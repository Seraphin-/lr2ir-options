<!doctype html>
<html lang="en">
<head>
    <title>Table Options from LR2IR</title>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="css/bootstrap.min.css"
          integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T">
    <style type="text/css">
        body {
            background-color: #343a40;
        }
    </style>
</head>
<body>
<nav class="navbar navbar-expand navbar-dark bg-dark">
    <a class="navbar-brand" href="#">LR2IR Option Data</a>
    <ul class="navbar-nav mr-auto mt-2 mt-lg-0">
        <li class="nav-item">
            <a class="nav-link" href="/lr2ir/">Home</a>
        </li>
        <li class="nav-item active">
            <a class="nav-link" href="/lr2ir/list">Full Index</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" href="/lr2ir/view?file=insane1.json">Insane1</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" href="/lr2ir/view?file=overjoy.json">Overjoy</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" href="/lr2ir/view?file=satellite.json">Satellite</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" href="/lr2ir/view?file=stella.json">Stella</a>
        </li>
    </ul>
</nav>

<div class="container-fluid text-light">
    <h2>Table List</h2>
</div>
<div class="container-fluid">
    <table class="table table-dark">
        <thead>
        <tr>
            <th scope="col">Name</th>
            <th scope="col">Symbol</th>
            <th scope="col">URL</th>
        </tr>
        </thead>
        <tbody id="tables">
        </tbody>
    </table>
</div>
</body>
<footer>
    <script src="https://code.jquery.com/jquery-3.3.1.min.js"
            crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
            crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
            crossorigin="anonymous"></script>
    <script type="text/javascript">
        $(() => {
            function makeTable(data) {
                $('#tables').empty();
                data.forEach((i) => {
                    let obj = $('<tr>');
                    let url = '/lr2ir/view?file=' + i['file'];
                    obj.append($('<td>').append($('<a>').attr('href', url).text(i['name'])));
                    obj.append($('<td>').text(i['symbol']));
                    obj.append($('<td>').text(i['url']));
                    $('#tables').append(obj);
                });
            }
            $.getJSON('/lr2ir/data/index.json', makeTable);
        });
    </script>
</footer>
</html>